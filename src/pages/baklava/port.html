
<ion-content class="dark">
<ion-list-header>{{name}} &nbsp;<select style="background:transparent;cursor:pointer" [(ngModel)]="mode" [disabled]="state==1">
    <option [hidden]="!state[0]" value="0">Import</option>
    <option [hidden]="!state[1]" value="1">Export</option>
    <!--<option [hidden]="state<3" value="2">Real World</option>-->
  </select><ion-icon (click)="viewCtrl.dismiss();" class="closeBtn" style="float:right" name="md-close"></ion-icon></ion-list-header>
<div style="padding:3%">

<div *ngIf="mode==0">
  <div style="text-align:center">
  <b>With this tool you can import .tradebot files or try a bot shared by the community!<br><i>YOUR CURRENT BOT WILL BE OVERWRITTEN</i></b>

<br><br>
 <input accept=".tradebot" type="file" (change)="importFile($event)" id="myFile" name="filename">
 <br><br>
 <b>OR</b>
</div>

<div style="height:100%;width:90%;margin:auto;text-align:center">

<ion-item style="background:transparent;color:white" *ngFor="let bot of communityBots">

 <ion-label><span style="vertical-align:-6px"><ion-icon style="cursor:pointer" (click)="bot.liked=!bot.liked;save()" [name]="bot.liked?'md-star':'md-star-outline'"></ion-icon>&nbsp;&nbsp;<b>{{bot.name}}</b> - {{bot.author==''?'Anonymous':bot.author}}</span><span style="float:right"><ion-badge *ngIf="bot.top">Top 1%</ion-badge>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{bot.up + (bot.voteUp?1:0)}}&nbsp;<ion-icon style="cursor:pointer;opacity:.3" (click)="bot.voteUp=!bot.voteUp;bot.voteDown=false;save()" [ngClass]="{'full':bot.voteUp}" name="thumbs-up"></ion-icon>&nbsp;&nbsp;&nbsp;{{bot.down + (bot.voteDown?1:0)}}<ion-icon style="vertical-align:-2px;opacity:.3;cursor:pointer" (click)="bot.voteDown=!bot.voteDown;bot.voteUp=false;save()" [ngClass]="{'full':bot.voteDown}" name="thumbs-down"></ion-icon>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="cursor:pointer;display:inline-block" (click)="moreInfo(bot)"><ion-icon style="font-size:25px;padding-left:10px;padding-right:10px" name="md-more"></ion-icon></div></span></ion-label> 
</ion-item>

</div>



</div>

<div *ngIf="mode==1">

  <div style="text-align:center">
  <b>With this tool you can export .tradebot files or share your bot with the community!</b>

<br><br>
  <button  ion-button color="light" style="height:25px;margin-left:0px;margin-top:0px;width:200px" (click)="downloadBot()"><ion-icon name="md-download"></ion-icon>&nbsp;Download File</button>
 <br><br>
 <b>OR</b>
<br><br>
Bot Name:<input [(ngModel)]="upload.name" style="background:rgb(40,40,40)"><br>
Author:<input [(ngModel)]="upload.author" style="background:rgb(40,40,40)"><br><br>
Notes:<br>
<textarea [(ngModel)]="upload.notes" style="background:rgb(40,40,40);width:100%;height:200px;resize:none"></textarea>
<br><br>
 <button ion-button color="light" style="height:25px;margin-left:0px;margin-top:0px;width:200px" (click)="uploadBot()"><ion-icon name="md-cloud-upload"></ion-icon>&nbsp;Upload Bot</button>
 <br>
 <i>By uploading, you are allowing other players to download, vote on and use your bot.</i>
</div>
</div>


  
<div *ngIf="mode==2">
  We hope that the bot can be converted to working with the following financial institutions blah blah blah
</div>

</div>
	</ion-content>